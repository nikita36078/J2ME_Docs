<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_13) on Thu Jan 20 15:54:10 EET 2011 -->
<TITLE>
MediaProcessor (JSR-234)
</TITLE>

<META NAME="date" CONTENT="2011-01-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MediaProcessor (JSR-234)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MediaProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/microedition/amms/GlobalManager.html" title="class in javax.microedition.amms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/microedition/amms/MediaProcessorListener.html" title="interface in javax.microedition.amms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/microedition/amms/MediaProcessor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MediaProcessor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.microedition.amms</FONT>
<BR>
Interface MediaProcessor</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD>javax.microedition.media.Controllable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>MediaProcessor</B><DT>extends javax.microedition.media.Controllable</DL>
</PRE>

<P>
<p>
 <code>MediaProcessor</code> is an interface designed to post-process different media types.
 It is intended that a <code>MediaProcessor</code> generally exposes various <code>EffectControl</code>s
 (to configure the processing behavior) and <code>FormatControl</code>s (to set the output format).
 At least one object implementing the <code>FormatControl</code> can be fetched from a <code>MediaProcessor</code>.
 </p>

 <p>
 To retrieve a <code>MediaProcessor</code>, call <A HREF="../../../javax/microedition/amms/GlobalManager.html#createMediaProcessor(java.lang.String)"><CODE>GlobalManager.createMediaProcessor(java.lang.String)</CODE></A>.
 </p>

 <h3>MediaProcessor states</h3>
 <p><code>MediaProcessor</code> has four different states: <i>UNREALIZED</i>, <i>REALIZED</i>,
 <i>STARTED</i> and <i>STOPPED</i>. In the <i>UNREALIZED</i> state, the input and output of the
 processor must be specified and various <code>Control</code>s may be
 used to specify different aspects of the processing.
 </p>
 <p>

<p>
The <code>MediaProcessor</code> enters the <i>REALIZED</i> state when the input and output have been set. Controls can still be used in the <i>REALIZED</i> state. Once <i>REALIZED</i>, the <code>MediaProcessor</code> can be started, causing it to enter the <i>STARTED</i> state. An <i>UNREALIZED</i> <code>MediaProcessor</code> cannot be started.
<p>
Once in the <i>STARTED</i> state, processing has begun. Processing may be paused by stopping the <code>MediaProcessor</code>, at which point it enters the <i>STOPPED</i> state. Starting the <code>MediaProcessor</code> again will cause it to re-enter the <i>STARTED</i> state, resuming its processing where it left off.
<p>
If processing completes successfully, the <code>MediaProcessor</code> returns to the <i>UNREALIZED</i> state, at which point both the input and output must be set again before another processing task can be started. Any applied effects will, however, remain.
<p>
If processing fails, the <code>MediaProcessor</code> returns to the <i>REALIZED</i> state. Possible actions then depend on the implementation and the reason for the failure.
<p>
In the <i>STARTED</i> or <i>STOPPED</i> states, the details of the processing should not be changed via its controls. If the details <em>are</em> changed, it is unspecified when the changes will actually be effective. They may occur immediately; the latest they might take effect is when the <code>MediaProcessor</code> returns to the <i>REALIZED</i> state again.
<p>
<code>getControl</code> and <code>getControls</code> methods can be called in all states.
<p>
The following diagram depicts the most important state transitions in the lifecycle of the <code>MediaProcessor</code> as a directed graph. For clarity, the diagram does not cover all possible transitions and exceptions.
 <p><center><img src="doc-files/mediaprocessor.gif" alt="MediaProcessor states."></center>
 </p>
<p>
The following table details the behavior of each method in each <code>MediaProcessor</code> state. &#8594; <i>STATE</i> indicates that the <code>MediaProcessor</code> enters the specified state.

</p>
 <p>

 <table border="1" cellpadding="3">
 <tr>
 <th width="12%">Method</th><th width="88%" colspan="4">Initial state</th></tr>
 <tr>
 <th width="12%">&nbsp;</th>
 <th width="22%"><i>UNREALIZED</i></th>
 <th width="22%"><i>REALIZED</i></th>
 <th width="22%"><i>STARTED</i></th>
 <th width="22%"><i>STOPPED</i></th>
 </tr>
 <tr>
 <th>No method called</th>
 <td>Nothing happens</td>
 <td>Nothing happens</td>
 <td>
 Processing is in progress<br>
 <b>On success:</b><br>
 Posts <code>PROCESSING_COMPLETED</code><br>
 &#8594; <i>UNREALIZED</i><br>
 <b>On failure:</b><br>
 Posts <code>PROCESSING_ERROR</code><br>
 &#8594; <i>REALIZED</i><br>
 </td>
 <td>Nothing happens</td>
 </tr>
 <tr>
 <th><code>setInput()</code></th>
 <td>
 Sets the input.<br><br>
 If output is already set:<br>
 Posts <code>PROCESSOR_REALIZED</code><br>
 &#8594; <i>REALIZED</i>
 </td>
 <td>Updates input</td>
 <td>Throws <code>IllegalStateException</code>
 </td>
 <td>Throws <code>IllegalStateException</code>
 </td>
 </tr>
 <tr>
 <th><code>setOutput()</code></th>
 <td>
 Sets the output.<br><br>
 If input is already set:<br>
 Posts <code>PROCESSOR_REALIZED</code><br>
 &#8594; <i>REALIZED</i>
 </td>
 <td>Updates output</td>
 <td>Throws <code>IllegalStateException</code>
 </td>
 <td>Throws <code>IllegalStateException</code>
 </td>
 </tr>
 <tr><th><code>complete()</code></th>
 <td>Throws <code>IllegalStateException</code>
 </td>
 <td>
 Tries to start processing.<br>
 <b>On failure:</b><br>
 Throws <code>MediaException</code><br>
 <b>On success:</b><br>
 Posts<br><code>PROCESSING_STARTED</code><br>
 &#8594; <i>STARTED</i><br><br>
 Method then blocks until processing is completed.<br>
 <b>If processing fails:</b><br>
 Throws <code>MediaException</code><br>
 Posts <code>PROCESSING_ERROR</code>
 &#8594; <i>REALIZED</i><br>
 <b>If processing succeeds:</b><br>
 Posts <code>PROCESSING_COMPLETED</code><br>
 &#8594; <i>UNREALIZED</i>
</td>
<td>Waits for processing to finish.<br>
 <b>If processing succeeds:</b><br>
 Posts <code>PROCESSING_COMPLETED</code><br>
 &#8594; <i>UNREALIZED</i><br>
 <b>If processing fails:</b><br>
 Throws <code>MediaException</code><br>
 Posts <code>PROCESSING_ERROR</code>
 &#8594; <i>REALIZED</i>
</td>
 <td>
 Tries to resume processing.<br>
 <b>On failure:</b><br>
 Throws <code>MediaException</code><br>
 <b>On success:</b><br>
 Posts<br><code>PROCESSING_STARTED</code><br>
 &#8594; <i>STARTED</i><br><br>
 Method then blocks until processing is completed.<br>
 <b>If processing succeeds:</b><br>
 Posts <code>PROCESSING_COMPLETED</code><br>
 &#8594; <i>UNREALIZED</i><br>
 <b>If processing fails:</b><br>
 Throws <code>MediaException</code><br>
 Posts <code>PROCESSING_ERROR</code>
 &#8594; <i>REALIZED</i>
</td>
</tr>

 <tr><th><code>start()</code></th>
 <td>Throws <code>IllegalStateException</code>
 </td>
 <td>
 Tries to start processing.<br>
 <b>On success:</b><br>
 Posts<br><code>PROCESSING_STARTED</code><br>
 &#8594; <i>STARTED</i><br>
 <b>On failure:</b><br>
 Throws <code>MediaException</code>
</td>
<td>Nothing happens</td>
 <td>
 Tries to resume processing.<br>
 <b>On success:</b><br>
 Posts<br><code>PROCESSING_STARTED</code><br>
 &#8594; <i>STARTED</i><br>
 <b>On failure:</b><br>
 Throws <code>MediaException</code><br>
</td>
</tr>


 <tr><th><code>stop()</code></th>
 <td>Nothing happens</td>
 <td>Nothing happens</td>
 <td>
 Tries to pause processing.<br>
 <b>On success:</b><br>
 Posts<br><code>PROCESSING_STOPPED</code><br>
 &#8594; <i>STOPPED</i><br>
 <b>On failure:</b><br>
 Throws <code>MediaException</code><br>
 </td>
 <td>Nothing happens</td>
</tr>


 <tr><th><code>abort()</code></th>
 <td>Nothing happens</td>
 <td>Nothing happens</td>
 <td>
 Tries to abort processing.<br>
 <b>On success:</b><br>
 Resets input and output.<br>
 Posts<br><code>PROCESSING_ABORTED</code><br>
 &#8594; <i>UNREALIZED</i>
 </td>
 <td>
 Tries to abort processing.<br>
 <b>On success:</b><br>
 Resets input and output.<br>
 Posts<br><code>PROCESSING_ABORTED</code><br>
 &#8594; <i>UNREALIZED</i>
 </td>
</tr>

 <tr><th><code>getProgress()</code></th>
 <td>Returns 0</td>
 <td>Returns 0</td>
 <td>
 Returns % of work complete or <code>UNKNOWN</code>
 </td>
 <td>
 Returns % of work complete or <code>UNKNOWN</code>
 </td>
</tr>


 </table>


 <h3>Stream Handling</h3>
 <p>
 Input to a <code>MediaProcessor</code> is provided via <code>InputStream</code> and processed
 media is written to an <code>OutputStream</code>.
 </p>
 <p>
 The <code>MediaProcessor</code> can read data from an <code>InputStream</code> when
 a <code>setInput</code> method is called or any time between the call to <code>setInput</code>
 and the start of the processing. The <code>MediaProcessor</code> reads some data in before
 processing in order to setup values of associated controls. For example, the header of the
 media can contain information about the media format and that information must be available
 to the application via <code>FormatControl</code>.
 </p>
 <p>In some cases, not all information about the processed media is available to the application
 before the processing starts. Since the <code>InputStream</code> does not allow seeking, the <code>MediaProcessor</code>
 must buffer all data it reads before processing. If the size of the processed media is large
 and the headers and/or metadata are at the end of the stream, it is not possible to read
 and buffer the whole media before processing. 
 <code><A HREF="../../../javax/microedition/amms/control/FormatControl.html#setMetadataOverride(boolean)"><CODE>FormatControl.setMetadataOverride(boolean)</CODE></A></code>
 can be used to choose whether the metadata set by the application overrides the metadata in the
 processed file when the two have contradictions.
 </p>
 <p>
 The <code>MediaProcessor</code> will write data to an <code>OutputStream</code> only once the processing
 is started. When the processing is completed, the <code>MediaProcessor</code> calls 
 <code>InputStream.close()</code> and <code>OutputStream.close()</code>
 before sending a <code>PROCESSING_COMPLETED</code> event. When the <code>abort</code> method
 is called <code>MediaProcessor</code> also closes the streams before sending
 <code>PROCESSING_ABORTED</code> event.
 </p>
 <h3>Processing images</h3>
 <p>
 A <code>MediaProcessor</code> to process <code>Image</code> objects (that is, an image processor) is created
 by specifying input type "image/raw" to <code>GlobalManager.createMediaProcessor</code>. The default output
 type for an image processor is implementation-specific, and the input data can only be set
 via <A HREF="../../../javax/microedition/amms/MediaProcessor.html#setInput(java.lang.Object)"><CODE>setInput(java.lang.Object)</CODE></A>.
 A <code>MediaException</code> is thrown if an attempt is made to call <A HREF="../../../javax/microedition/amms/MediaProcessor.html#setInput(java.io.InputStream, int)"><CODE>setInput(java.io.InputStream, int)</CODE></A>.
 <p>
 Conversely, a <code>MediaProcessor</code> created to process files will only accept input set via
 <code>setInput(InputStream, int)</code>. Any attempt to use <code>setInput(Object)</code> will
 cause a <code>MediaException</code> to be thrown.

 <h3>Example</h3>

 <p>Below is shown a simple example where a JPEG image is converted
 into a monochrome image.
 </p>
 <blockquote><pre>
 MediaProcessor mp = GlobalManager.createMediaProcessor("image/jpeg");

 InputStream inputStream = ... // create a InputStream that contains the source image
 OutputStream outputStream = ... // create a OutputStream that will receive the resulting image
 mp.setInput(inputStream);
 mp.setOutput(outputStream);
 
 // Define effects to be applied during processing
 ImageEffectControl imageEffect = 
      (ImageEffectControl)mp.getControl("javax.microedition.amms.control.imageeffect.ImageEffectControl");

 imageEffect.setPreset("monochrome");
 imageEffect.setEnabled(true);
 
 // Set output format
 ImageFormatControl fc = (ImageFormatControl)mp.getControl("javax.microedition.amms.control.ImageFormatControl");
 fc.setFormat("image/jpeg");
 fc.setParameter("quality", 80);
 
 // Do the actual processing. If you do not want to use a blocking call, 
 // use start() and MediaProcessorListener.
 mp.complete();
 
 </pre></blockquote>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#REALIZED">REALIZED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The state of the <code>MediaProcessor</code> indicating that it has all
 the information it needs to begin processing, but no processing is
 currently in progress.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#STARTED">STARTED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The state of the <code>MediaProcessor</code> indicating that processing
 has already begun.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#STOPPED">STOPPED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The state of the <code>MediaProcessor</code> indicating that processing
 was started but has been stopped temporarily.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#UNKNOWN">UNKNOWN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant telling that either the length of the media or progress of the
 processing is unknown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#UNREALIZED">UNREALIZED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The state of the <code>MediaProcessor</code> indicating that it is not
 ready to begin processing because the input and/or output have not yet
 been set.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#abort()">abort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aborts the processing even if the processing was not
 complete.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#addMediaProcessorListener(javax.microedition.amms.MediaProcessorListener)">addMediaProcessorListener</A></B>(<A HREF="../../../javax/microedition/amms/MediaProcessorListener.html" title="interface in javax.microedition.amms">MediaProcessorListener</A>&nbsp;mediaProcessorListener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a <code>MediaProcessorListener</code> that will receive events generated by this <code>MediaProcessor</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#complete()">complete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Waits until the processing has been completed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#getProgress()">getProgress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get an estimated percentage of work that has been done.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#getState()">getState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the state of the <code>MediaProcessor</code></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#removeMediaProcessorListener(javax.microedition.amms.MediaProcessorListener)">removeMediaProcessorListener</A></B>(<A HREF="../../../javax/microedition/amms/MediaProcessorListener.html" title="interface in javax.microedition.amms">MediaProcessorListener</A>&nbsp;mediaProcessorListener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a <code>MediaProcessorListener</code> that was receiving events generated by this <code>MediaProcessor</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#setInput(java.io.InputStream, int)">setInput</A></B>(java.io.InputStream&nbsp;input,
         int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the input of the media processor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#setInput(java.lang.Object)">setInput</A></B>(java.lang.Object&nbsp;image)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the input of the media processor as an Image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#setOutput(java.io.OutputStream)">setOutput</A></B>(java.io.OutputStream&nbsp;output)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the output of the media processor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts processing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/amms/MediaProcessor.html#stop()">stop</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stops processing temporarily.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.microedition.media.Controllable"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface javax.microedition.media.Controllable</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>getControl, getControls</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="REALIZED"><!-- --></A><H3>
REALIZED</H3>
<PRE>
static final int <B>REALIZED</B></PRE>
<DL>
<DD>The state of the <code>MediaProcessor</code> indicating that it has all
 the information it needs to begin processing, but no processing is
 currently in progress.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.amms.MediaProcessor.REALIZED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STARTED"><!-- --></A><H3>
STARTED</H3>
<PRE>
static final int <B>STARTED</B></PRE>
<DL>
<DD>The state of the <code>MediaProcessor</code> indicating that processing
 has already begun.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.amms.MediaProcessor.STARTED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STOPPED"><!-- --></A><H3>
STOPPED</H3>
<PRE>
static final int <B>STOPPED</B></PRE>
<DL>
<DD>The state of the <code>MediaProcessor</code> indicating that processing
 was started but has been stopped temporarily.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.amms.MediaProcessor.STOPPED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="UNKNOWN"><!-- --></A><H3>
UNKNOWN</H3>
<PRE>
static final int <B>UNKNOWN</B></PRE>
<DL>
<DD>Constant telling that either the length of the media or progress of the
 processing is unknown.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.amms.MediaProcessor.UNKNOWN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="UNREALIZED"><!-- --></A><H3>
UNREALIZED</H3>
<PRE>
static final int <B>UNREALIZED</B></PRE>
<DL>
<DD>The state of the <code>MediaProcessor</code> indicating that it is not
 ready to begin processing because the input and/or output have not yet
 been set.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.amms.MediaProcessor.UNREALIZED">Constant Field Values</A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="abort()"><!-- --></A><H3>
abort</H3>
<PRE>
void <B>abort</B>()</PRE>
<DL>
<DD>Aborts the processing even if the processing was not
 complete.
 Any bytes that were written to output may not be
 reasonable and should be discarded. When this method returns,
 a <code>PROCESSING_ABORTED</code>
 event has been posted and the <code>MediaProcessor</code> has been
 moved into <i>UNREALIZED</i> state.
 <p>
 Ignored if the
 <code>MediaProcessor</code> was in <i>REALIZED</i> or <i>UNREALIZED</i> state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addMediaProcessorListener(javax.microedition.amms.MediaProcessorListener)"><!-- --></A><H3>
addMediaProcessorListener</H3>
<PRE>
void <B>addMediaProcessorListener</B>(<A HREF="../../../javax/microedition/amms/MediaProcessorListener.html" title="interface in javax.microedition.amms">MediaProcessorListener</A>&nbsp;mediaProcessorListener)</PRE>
<DL>
<DD>Add a <code>MediaProcessorListener</code> that will receive events generated by this <code>MediaProcessor</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mediaProcessorListener</CODE> - the listener to be added. If <code>null</code>, the request will be ignored.</DL>
</DD>
</DL>
<HR>

<A NAME="complete()"><!-- --></A><H3>
complete</H3>
<PRE>
void <B>complete</B>()
              throws javax.microedition.media.MediaException</PRE>
<DL>
<DD>Waits until the processing has been completed. If
 the <code>MediaProcessor</code> is not in <i>STARTED</i> state, calls
 <code>start</code> implicitly causing <code>PROCESSING_STARTED</code> event to be posted
 to <code>MediaProcessorListener</code>s. Otherwise, waits until either
 a <code>MediaException</code> is thrown and <code>PROCESSING_ERROR</code> is posted
 or a <code>PROCESSING_COMPLETED</code>
 event has been posted. After this method returns, the
 <code>MediaProcessor</code> is in <i>UNREALIZED</i> state if the processing was succesful
 or in <i>REALIZED</i> state if the processing failed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the <code>MediaProcessor</code>
 was in <i>UNREALIZED</i> state
<DD><CODE>javax.microedition.media.MediaException</CODE> - if completing the processing failed either because the processing couldn't be started
 or because an error occured during processing</DL>
</DD>
</DL>
<HR>

<A NAME="getProgress()"><!-- --></A><H3>
getProgress</H3>
<PRE>
int <B>getProgress</B>()</PRE>
<DL>
<DD>Get an estimated percentage of work that has been done.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><ul>
 <li>0, if the <code>MediaProcessor</code> is in <i>UNREALIZED</i> or <i>REALIZED</i> state
 <li>amount of work completed (0 - 100%) if <code>MediaProcessor</code> is in <i>STARTED</i> or <i>STOPPED</i> states
 <li><code>UNKNOWN</code>, if the estimation cannot be calculated.
 </ul></DL>
</DD>
</DL>
<HR>

<A NAME="getState()"><!-- --></A><H3>
getState</H3>
<PRE>
int <B>getState</B>()</PRE>
<DL>
<DD>Get the state of the <code>MediaProcessor</code>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>state of the <code>MediaProcessor</code></DL>
</DD>
</DL>
<HR>

<A NAME="removeMediaProcessorListener(javax.microedition.amms.MediaProcessorListener)"><!-- --></A><H3>
removeMediaProcessorListener</H3>
<PRE>
void <B>removeMediaProcessorListener</B>(<A HREF="../../../javax/microedition/amms/MediaProcessorListener.html" title="interface in javax.microedition.amms">MediaProcessorListener</A>&nbsp;mediaProcessorListener)</PRE>
<DL>
<DD>Remove a <code>MediaProcessorListener</code> that was receiving events generated by this <code>MediaProcessor</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mediaProcessorListener</CODE> - the listener to be removed. If the listener does not exist or is <code>null</code>, the request will be ignored.</DL>
</DD>
</DL>
<HR>

<A NAME="setInput(java.io.InputStream, int)"><!-- --></A><H3>
setInput</H3>
<PRE>
void <B>setInput</B>(java.io.InputStream&nbsp;input,
              int&nbsp;length)
              throws javax.microedition.media.MediaException</PRE>
<DL>
<DD>Sets the input of the media processor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>input</CODE> - the <code>InputStream</code> to be used as input<DD><CODE>length</CODE> - the estimated length of the processed media in bytes. Since the input
 is given as an <code>InputStream</code>, the implementation cannot find out
 what is the length of the media until it has been processed. The estimated
 length is used only when the <code>progress</code> method is used to query the
 progress of the processing. If the length is not known, UNKNOWN should be passed
 as a length.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the <code>MediaProcessor</code> was not in UNREALIZED or REALIZED state
<DD><CODE>javax.microedition.media.MediaException</CODE> - if input can not be given as a stream
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if input is null
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if length < 1 and length != UNKNOWN</DL>
</DD>
</DL>
<HR>

<A NAME="setInput(java.lang.Object)"><!-- --></A><H3>
setInput</H3>
<PRE>
void <B>setInput</B>(java.lang.Object&nbsp;image)
              throws javax.microedition.media.MediaException</PRE>
<DL>
<DD>Sets the input of the media processor as an Image.
 <p>
 Setting the input as an Image allows use of raw image data in a convenient way. It also
 allows converting Images to image files.
 <code>image</code> is an UI Image of the implementing platform. For example, in MIDP
 <code>image</code> is <code>javax.microedition.lcdui.Image</code> object.
 </p>
 <p>
 Mutable Image is allowed as an input but the behavior is unspecified if the Image
 is changed during processing.
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>image</CODE> - the <code>Image</code> object to be used as input
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the <code>MediaProcessor</code> was not in <i>UNREALIZED</i> or <i>REALIZED</i> state
<DD><CODE>javax.microedition.media.MediaException</CODE> - if input can not be given as an image
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the image is not an Image object</DL>
</DD>
</DL>
<HR>

<A NAME="setOutput(java.io.OutputStream)"><!-- --></A><H3>
setOutput</H3>
<PRE>
void <B>setOutput</B>(java.io.OutputStream&nbsp;output)</PRE>
<DL>
<DD>Sets the output of the media processor.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>output</CODE> - the <code>OutputStream</code> to be used as output
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if output is null
<DD><CODE>java.lang.IllegalStateException</CODE> - if the <code>MediaProcessor</code> was not in <i>UNREALIZED</i> or <i>REALIZED</i> state</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
void <B>start</B>()
           throws javax.microedition.media.MediaException</PRE>
<DL>
<DD>Starts processing. If the <code>MediaProcessor</code> is in
 STARTED state, the call is ignored. Upon calling this method,
 the <code>MediaProcessor</code> either throws a
 <code>MediaException</code> or moves to <i>STARTED</i> state and posts
 <code>PROCESSING_STARTED</code> event to <code>MediaProcessorListener</code>s.

 <p>After the processing has been completed, a <code>PROCESSING_COMPLETED</code>
 event will be delivered and the <code>MediaProcessor</code>
 will move into the <i>UNREALIZED</i> state.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if the <code>MediaProcessor</code>
 was in <i>UNREALIZED</i> state
<DD><CODE>javax.microedition.media.MediaException</CODE> - if the <code>MediaProcessor</code>
 could not be started</DL>
</DD>
</DL>
<HR>

<A NAME="stop()"><!-- --></A><H3>
stop</H3>
<PRE>
void <B>stop</B>()
          throws javax.microedition.media.MediaException</PRE>
<DL>
<DD>Stops processing temporarily. If the
 <code>MediaProcessor</code> is in a <i>UNREALIZED</i>, <i>REALIZED</i> or <i>STOPPED</i> state, the
 call is ignored. Otherwise, the <code>MediaProcessor</code>
 either throws a <code>MediaException</code> or moves to
 <i>STOPPED</i> state and posts <code>PROCESSING_STOPPED</code> event to <code>MediaProcessorListener</code>s.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.microedition.media.MediaException</CODE> - if the <code>MediaProcessor</code>
 could not be stopped</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MediaProcessor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/microedition/amms/GlobalManager.html" title="class in javax.microedition.amms"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/microedition/amms/MediaProcessorListener.html" title="interface in javax.microedition.amms"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/microedition/amms/MediaProcessor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MediaProcessor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright © 2004-2010 Nokia. All Rights Reserved.
</BODY>
</HTML>
