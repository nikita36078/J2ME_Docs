<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Mon Jul 11 11:35:06 JST 2011 -->

<TITLE>
UDPDatagramConnection (Star-2.0 (APIリファレンス))
</TITLE>

<META NAME="date" CONTENT="2011-07-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UDPDatagramConnection (Star-2.0 (APIリファレンス))";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="ナビゲーションリンクをスキップ"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概要</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>パッケージ</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>クラス</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>階層ツリー</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>非推奨 API</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>ヘルプ</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/docomostar/io/SPPConnection.html" title="com.docomostar.io 内のインタフェース"><B>前のクラス</B></A>&nbsp;
&nbsp;次のクラス</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/docomostar/io/UDPDatagramConnection.html" target="_top"><B>フレームあり</B></A>  &nbsp;
&nbsp;<A HREF="UDPDatagramConnection.html" target="_top"><B>フレームなし</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>すべてのクラス</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>すべてのクラス</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  概要:&nbsp;入れ子&nbsp;|&nbsp;フィールド&nbsp;|&nbsp;コンストラクタ&nbsp;|&nbsp;<A HREF="#method_summary">メソッド</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
詳細:&nbsp;フィールド&nbsp;|&nbsp;コンストラクタ&nbsp;|&nbsp;<A HREF="#method_detail">メソッド</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.docomostar.io</FONT>
<BR>
インタフェース UDPDatagramConnection</H2>
<DL>
<DT><B>すべてのスーパーインタフェース:</B> <DD>javax.microedition.io.Connection, javax.microedition.io.DatagramConnection</DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>UDPDatagramConnection</B><DT>extends javax.microedition.io.DatagramConnection</DL>
</PRE>

<P>
UDP プロトコルでのネットワークへの接続を定義します。この機能は、パーミッションとして UDP 通信（クライアント／サーバー型もしくはPeer-to-Peer型）が許可されたトラステッドStarアプリでのみ利用することができます。
 <p>
 UDP 通信では、端末に対してドコモ網から接続に必要な情報(IPアドレス、ポート番号等)を取得した後、接続を確立して通信を行います。
 </p>
 
 <p>
 [Star-1.3 まで] Star アプリがサスペンドすると必ず通信が切断されます。<br>
 [Star-1.5 以降] Star アプリがサスペンドしても通信が継続されます。
 ただし、競合条件によっては、サスペンド時に通信が切断される場合もあります。
 </p>
 
 <p>
 端末&hArr;コンテンツプロバイダ間で通信する「クライアント/サーバ型接続」、あるいは端末&hArr;端末間で通信する「Peer-to-Peer型接続」のいずれかの方式で通信を行うことができます。詳細は後述を参照してください。
 </p>
 <p>
 本インタフェースには、以下の状態が存在します。
 <dl>
 <dt><strong>初期状態</strong></dt>
     <dd>Connector.open() を "datagram" のスキームでコールすることで生成された直後の状態を指します。</dd>
 <dt><strong>ポートオープン状態</strong></dt>
     <dd>端末に対してドコモ網から接続に必要な情報(IPアドレス、ポート番号等)を取得した状態を指します。</dd>
     <dd>初期状態で <A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#openRemotePort()"><CODE>openRemotePort()</CODE></A> メソッドを実行するとポートオープン状態に遷移します。</dd>
     <dd>初期状態からのみ <A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#openRemotePort()"><CODE>openRemotePort()</CODE></A> メソッドは実行可能です。</dd>
 <dt><strong>UDP 通信可能状態</strong></dt>
     <dd>UDP 通信用の接続先が設定された状態を指します。 </dd>
     <dd>データグラム送受信メソッド(<A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#send(javax.microedition.io.Datagram)"><CODE>send(Datagram)</CODE></A>、<A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#receive(javax.microedition.io.Datagram)"><CODE>receive(Datagram)</CODE></A> など)を利用して UDP 通信を行うことができます。</dd>
     <dd>ポートオープン状態で、 UDP の通信接続先が決定されると UDP 通信可能状態に遷移します。</dd>
     <dd>接続先決定メソッド(<A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#connect()"><CODE>connect()</CODE></A>、<A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#connect(java.lang.String, int)"><CODE>connect(String, int)</CODE></A>)は、ポートオープン状態からのみ実行可能です。</dd>
     <dd>UDP 通信可能状態においてclose()メソッド呼び出しを経ずにUDP 通信が切断された場合は、close()、getLocalAddress()、getLocalPort()、getMaximumLength()、getNominalLength()、newDatagram(byte[], int)、newDatagram(byte[], int, String)、newDatagram(int)、newDatagram(int, String) 
 をのぞくメソッドの呼び出しはIOExceptionが発生します。</dd>
     <dd>この場合はUDP 通信不可状態への状態遷移のみが可能となります。</dd>
 <dt><strong>UDP 通信不可状態</strong></dt>
     <dd>UDP のポートがクローズされ、通信ができない状態を指します。</dd>
     <dd>この状態では、ネットワークのリソース、及び送受信バッファ等のリソースは全て破棄されます。</dd>
     <dd><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#close()"><CODE>close()</CODE></A> メソッドを実行すると UDP 通信不可状態に遷移します。</dd>
     <dd><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#close()"><CODE>close()</CODE></A> メソッドは、任意の状態で実行することが可能です。</dd>
 </dl>
 </p>
 <p>
 UDP 通信は「クライアント/サーバ型接続」、もしくは「Peer-to-Peer型接続」のいずれかの方式で通信を行うことができます。
 以下にそれぞれの方式についての詳細を述べます。
 <dl>
 <dt><strong>クライアント/サーバ型接続</strong></dt>
 <dd>
 端末と任意のサーバの通信を行う接続型です。
 <p>
 Connector.open() メソッドで、接続先 URL を以下の形式で指定するとUDP通信:クライアント/サーバ型接続となります。<br>
 <I>"datagram://&lt;ホスト名&gt;:&lt;ポート番号&gt;"</I><br>
 </p>
 <p>
 以下に UDP 通信においてクライアント/サーバ型接続を行う場合のコード例を示します。
 <blockquote><pre>
   
       UDPDatagramConnection udc = (UDPDatagramConnection)Connector.open("datagram://example.com:12345");
       udc.openRemotePort(); // ドコモサーバに対してグローバルIPアドレスとポート番号の払い出し要求を行う。
       udc.connect(); // 端末とサーバ間の接続先の指定を行います。

       //データグラム送信
       Datagram sdg = udc.newDatagram(udc.getNominalLength()); // データグラム生成
       sdg.setData(…);
       udc.send(sdg);
       
       //データグラム受信
       Datagram rdg = udc.newDatagram(udc.getNominalLength()); // データグラム生成
       udc.receive(rdg);
       
       udc.close(); // 接続を閉じてリソースを解放します。 
   
 </pre></blockquote>
 </p>
 </dd>
 <dt><strong> Peer-to-Peer 型接続</strong></dt>
 <dd>
 端末間で直接通信を行う接続型です。
 <p>
 Connector.open() メソッドで、接続先 URL を以下の形式で指定するとUDP通信:Peer-to-Peer型接続となります。<br>
 <I>"datagram://&lt;P-to-P用URL&gt;"</I><br>
 <blockquote>
 &lt;P-to-P用URL&gt; 部分には通信がPeer-to-Peer型接続であることを示す固定文字列を設定します。
 </blockquote>
 </p>
 <p>
 以下に UDP 通信において 端末Aと端末BがサーバCより相互に通信相手に払い出されたIPアドレスとポート番号について通知を受け、 Peer-to-Peer 型接続を行う場合のコード例を示します。（この例ではサーバCとの通信でHTTPコネクションを使用し、通信相手アドレスを交換します。サーバはマッチングサーバ・ゲームサーバであることが想定されます）
 <blockquote><pre>
   ※端末A※  
    // &#9312; グローバルIPアドレスとポート番号をサーバーCに送信する。 //
    // &#9313; サーバーCから端末BのグローバルIPアドレスとポート番号取得する。 //
    // &#9314; 端末Bに対して接続先の指定を行う。 //
    
       // &#9312; //
       UDPDatagramConnection udcA = (UDPDatagramConnection)Connector.open("datagram://&lt;P-to-P用URL&gt;");
       udcA.openRemotePort(); // グローバルIPアドレスとポート番号を払い出してもらう。
       String addressMobileA = udcA.getLocalAddress(); // 端末Aに払い出されたIPアドレスを取得
       int portMobileA = udcA.getLocalPort(); //端末Aに払い出されたポート番号を取得
       HttpConnection hcA = (HttpConnection)Connector.open("http://&lt;サーバーCのホスト名&gt;");
       //サーバCに対して端末Aに払い出されたIPアドレスとポート番号を送信
       
       // &#9313; //
       hcA.connect(…);   
       //サーバCから、端末Bに払い出されたIPアドレスとポート番号を受信
       
       // &#9314; //
       udcA.connect(addressMobileB, portMobileB); // 端末Bに対して Peer-to-Peer 接続要求を行う。
       
       //データグラム送信
       Datagram sdgA = udcA.newDatagram(udc.getNominalLength()); // データグラム生成
       sdgA.setData(…);
       udcA.send(sdg);
       
       //データグラム受信
       Datagram rdgA = udcA.newDatagram(udc.getNominalLength()); // データグラム生成
       udcA.receive(rdgA);
       
       udcA.close(); // 接続を閉じてリソースを解放します。 
       
   ※端末B※  
    //端末Aの通信相手である端末Bは、端末Aのものと処理上の差異がありません。コード例の記載は省略します。
 </pre></blockquote>
 </p>
 </dd>
 </dl>
 
 </p>
<P>

<P>
<DL>
<DT><B>導入されたバージョン:</B></DT>
  <DD>Star-1.0</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>メソッドの概要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;接続を閉じてリソースを解放します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#connect()">connect</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;クライアント/サーバ型接続にて、接続先の指定を行い UDP 通信可能状態に遷移します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#connect(java.lang.String, int)">connect</A></B>(String&nbsp;host,
        int&nbsp;port)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Peer-to-Peer 型接続にて、接続先の指定を行い UDP 通信可能状態に遷移します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#getLocalAddress()">getLocalAddress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末に払い出された IP アドレスを取得します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#getLocalPort()">getLocalPort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末に払い出されたポート番号を取得します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#getMaximumLength()">getMaximumLength</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;データグラムがとり得る最大の長さを取得します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#getNominalLength()">getNominalLength</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;データグラムの標準の長さを取得します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.microedition.io.Datagram</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#newDatagram(byte[], int)">newDatagram</A></B>(byte[]&nbsp;buf,
            int&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいデータグラムオブジェクトを作成します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.microedition.io.Datagram</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#newDatagram(byte[], int, java.lang.String)">newDatagram</A></B>(byte[]&nbsp;buf,
            int&nbsp;size,
            String&nbsp;addr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいデータグラムオブジェクトを作成します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.microedition.io.Datagram</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#newDatagram(int)">newDatagram</A></B>(int&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいデータグラムオブジェクトを作成します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.microedition.io.Datagram</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#newDatagram(int, java.lang.String)">newDatagram</A></B>(int&nbsp;size,
            String&nbsp;addr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいデータグラムオブジェクトを作成します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#openRemotePort()">openRemotePort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;グローバルIPアドレスとポート番号の払い出し要求を行います。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#receive(javax.microedition.io.Datagram)">receive</A></B>(javax.microedition.io.Datagram&nbsp;dgram)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;データグラムを受信します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#send(javax.microedition.io.Datagram)">send</A></B>(javax.microedition.io.Datagram&nbsp;dgram)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;データグラムを送信します。</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>メソッドの詳細</B></FONT></TH>
</TR>
</TABLE>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
void <B>close</B>()
           throws java.io.IOException</PRE>
<DL>
<DD>接続を閉じてリソースを解放します。
 <p>
 ネットワークのリソース、及び送受信バッファ等のリソースは全て破棄されます。
 </p>
<P>
<DD><DL>
<DT><B>定義:</B><DD>インタフェース <CODE>javax.microedition.io.Connection</CODE> 内の <CODE>close</CODE></DL>
</DD>
<DD><DL>

<DT><B>例外:</B>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(OUT_OF_SERVICE)</SPAN>
         <BR> 
         圏外(音声不可/パケット不可)になったことを検知した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(USER_ABORT)</SPAN>
         <BR> 
         [Star-1.3 まで] ユーザ操作によって遷移した Suspended
         状態から復帰したことを検知した場合に発生します。
<DD class="throws"><CODE>java.io.InterruptedIOException</CODE> - 
         <BR> 
         [Star-1.3 まで] 別スレッドからのメソッド呼び出しにより通信が切断された場合や、 
         ユーザ操作以外の理由によって遷移した Suspended 状態から復帰したことを検知した場合に発生します。
<DD class="throws"><CODE>java.io.IOException</CODE> - 
         <BR>
         現在の実装では発生することは有りません。</DL>
</DD>
</DL>
<HR>

<A NAME="connect()"><!-- --></A><H3>
connect</H3>
<PRE>
void <B>connect</B>()
             throws java.io.IOException</PRE>
<DL>
<DD>クライアント/サーバ型接続にて、接続先の指定を行い UDP 通信可能状態に遷移します。
 <p>
 Connector.open() メソッドの引数 name に指定した接続先 URL に対して接続先の指定を行います。
 <p>
 メソッドを呼び出した場合、Star アプリはサスペンドせずに接続処理を行います。
 このメソッドはブロッキングメソッドとして動作します。
 </p>
 本メソッドはクライアント/サーバ型接続時に使用します。
 Peer-to-Peer型接続時に本メソッドが呼ばれた場合は例外が発生します。
 </p>
 <p>
 本メソッドはポートオープン状態で実行してください。
 その他の状態で実行された場合は例外が発生します。
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>例外:</B>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
           ポートオープン状態以外で実行された場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(OUT_OF_SERVICE)</SPAN>
         <BR> 
         圏外(音声不可/パケット不可)になったことを検知した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(SERVICE_UNAVAILABLE)</SPAN>
         <BR>
         接続時や通信時に、 キッズ制限が適用されている、等の理由でUDP通信がサービスとして利用できない場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(USER_ABORT)</SPAN>
         <BR> 
         [Star-1.3 まで]
         ユーザ操作によって遷移した Suspended 状態から復帰したことを検知した場合に発生します。
         <br>
         [Star-1.5 以降]
         ユーザ操作によって通信が切断されたことを検知した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(TIMEOUT)</SPAN>
         <BR>
         接続時や通信時にタイムアウトした場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(BUSY_RESOURCE)</SPAN>
         <BR>
         別スレッドにて同一インスタンスの <code>connect()</code> を呼び出し中に、このメソッドを呼び出した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
         コネクションオブジェクトが クライアント/サーバ型接続 のためのオブジェクトではなく、Peer-to-Peer 型接続 のためのものであった場合に発生します。
         別スレッドにて同一インスタンスの <code>connect(String, int)</code> を呼び出し中に、このメソッドを呼び出した場合も含みます。
<DD class="throws"><CODE>java.io.InterruptedIOException</CODE> - 
         <BR> 
         [Star-1.3 まで]
         別スレッドからのメソッド呼び出しにより通信が切断された場合や、
         ユーザ操作以外の理由によって遷移した Suspended 状態から復帰したことを検知した場合に発生します。
         <br>
         [Star-1.5 以降]
         別スレッドからのメソッド呼び出しにより通信が切断された場合や、
         ユーザ操作以外の理由によって通信が切断されたことを検知した場合に発生します。
<DD class="throws"><CODE>java.io.IOException</CODE> - 
         <BR>
         I/Oエラーの場合に発生します。</DL>
</DD>
</DL>
<HR>

<A NAME="connect(java.lang.String, int)"><!-- --></A><H3>
connect</H3>
<PRE>
void <B>connect</B>(String&nbsp;host,
             int&nbsp;port)
             throws java.io.IOException</PRE>
<DL>
<DD>Peer-to-Peer 型接続にて、接続先の指定を行い UDP 通信可能状態に遷移します。
 <p>
 引数に指定した接続先に対して UDP 通信の接続先指定を行います。
 引数の接続先には、ドコモ網から払い出された接続先の IP アドレス、及びポート番号を指定してください。
 クライアント/サーバ型接続時に本メソッドが呼ばれた場合は例外が発生します。
 </p>
 <p>
 メソッドを呼び出した場合、Star アプリはサスペンドせずに接続処理を行います。
 このメソッドはブロッキングメソッドとして動作します。
 </p>
 <p>
 本メソッドはポートオープン状態で実行してください。
 その他の状態で実行された場合は例外が発生します。
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>パラメータ:</B><DD><CODE>host</CODE> - 接続先のIPアドレスを指定します。<DD><CODE>port</CODE> - 接続先ポート番号を指定します。
<DT><B>例外:</B>
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>
         引数の host が不正な場合に発生します。
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>
         引数の port が不正な場合（ポート番号が1〜65535の範囲にない）に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
           ポートオープン状態以外で実行された場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(OUT_OF_SERVICE)</SPAN>
         <BR> 
         圏外(音声不可/パケット不可)になったことを検知した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(SERVICE_UNAVAILABLE)</SPAN>
         <BR>
         接続時や通信時に、 キッズ制限が適用されている、等の理由でTCP通信/UDP通信がサービスとして利用できない場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(USER_ABORT)</SPAN>
         <BR> 
         [Star-1.3 まで]
         ユーザ操作によって遷移した Suspended 状態から復帰したことを検知した場合に発生します。
         <br>
         [Star-1.5 以降]
         ユーザ操作によって通信が切断されたことを検知した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(TIMEOUT)</SPAN>
         <BR>
         接続時や通信時にタイムアウトした場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/io/ConnectionException.html" title="com.docomostar.io 内のクラス">ConnectionException</A></CODE> - <BR><SPAN class="status">(BUSY_RESOURCE)</SPAN>
         <BR>
         別スレッドにて同一インスタンスの <code>connect(String, int)</code> を呼び出し中に、このメソッドを呼び出した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
         コネクションオブジェクトが Peer-to-Peer 型接続 のためのオブジェクトではなく、クライアント/サーバ型接続 のためのものであった場合に発生します。
         別スレッドにて同一インスタンスの <code>connect()</code> を呼び出し中に、このメソッドを呼び出した場合も含みます。
<DD class="throws"><CODE>java.io.InterruptedIOException</CODE> - 
         <BR> 
         [Star-1.3 まで]
         別スレッドからのメソッド呼び出しにより通信が切断された場合や、
         ユーザ操作以外の理由によって遷移した Suspended 状態から復帰したことを検知した場合に発生します。
         <br>
         [Star-1.5 以降]
         別スレッドからのメソッド呼び出しにより通信が切断された場合や、
         ユーザ操作以外の理由によって通信が切断されたことを検知した場合に発生します。
<DD class="throws"><CODE>NullPointerException</CODE> - 
         <BR>
         引数 host に null が指定された場合に発生します。
<DD class="throws"><CODE>java.io.IOException</CODE> - 
         <BR>
         I/Oエラーの場合に発生します。</DL>
</DD>
</DL>
<HR>

<A NAME="openRemotePort()"><!-- --></A><H3>
openRemotePort</H3>
<PRE>
void <B>openRemotePort</B>()
                    throws java.io.IOException</PRE>
<DL>
<DD>グローバルIPアドレスとポート番号の払い出し要求を行います。
 <p>
 払い出されたアドレスは<A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#getLocalAddress()"><CODE>getLocalAddress()</CODE></A>、<A HREF="../../../com/docomostar/io/UDPDatagramConnection.html#getLocalPort()"><CODE>getLocalPort()</CODE></A> メソッドで取得できます。
 </p>
 <p>
 メソッドを呼び出した場合、Star アプリはサスペンドせずに接続処理を行います。
 このメソッドはブロッキングメソッドとして動作します。
 </p>
 <p>
 本メソッドは初期状態で実行してください。
 その他の状態で実行された場合は例外が発生します。
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>例外:</B>
<DD ､