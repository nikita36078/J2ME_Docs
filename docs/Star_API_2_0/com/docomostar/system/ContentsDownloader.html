<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Mon Jul 11 11:35:08 JST 2011 -->

<TITLE>
ContentsDownloader (Star-2.0 (APIリファレンス))
</TITLE>

<META NAME="date" CONTENT="2011-07-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ContentsDownloader (Star-2.0 (APIリファレンス))";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="ナビゲーションリンクをスキップ"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概要</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>パッケージ</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>クラス</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>階層ツリー</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>非推奨 API</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>ヘルプ</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/docomostar/system/Contents.html" title="com.docomostar.system 内のクラス"><B>前のクラス</B></A>&nbsp;
&nbsp;<A HREF="../../../com/docomostar/system/ContentsException.html" title="com.docomostar.system 内のクラス"><B>次のクラス</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/docomostar/system/ContentsDownloader.html" target="_top"><B>フレームあり</B></A>  &nbsp;
&nbsp;<A HREF="ContentsDownloader.html" target="_top"><B>フレームなし</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>すべてのクラス</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>すべてのクラス</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  概要:&nbsp;入れ子&nbsp;|&nbsp;<A HREF="#field_summary">フィールド</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">コンストラクタ</A>&nbsp;|&nbsp;<A HREF="#method_summary">メソッド</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
詳細:&nbsp;<A HREF="#field_detail">フィールド</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">コンストラクタ</A>&nbsp;|&nbsp;<A HREF="#method_detail">メソッド</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.docomostar.system</FONT>
<BR>
クラス ContentsDownloader</H2>
<PRE>
Object
  <IMG SRC="../../../resources/inherit.gif" ALT="上位を拡張 "><B>com.docomostar.system.ContentsDownloader</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>ContentsDownloader</B><DT>extends Object</DL>
</PRE>

<P>
<p>
 コンテンツをダウンロードし、
 ネイティブが管理しているストレージ領域に直接保存する機能を提供します。
 また、端末によっては、
 ダウンロードしたコンテンツをその場で再生することができます。
 </p>
 <p>
 この機能を用いることで、Star
 アプリでは扱えなかった大容量コンテンツをダウンロードすることができます。
 ダウンロードしたデータは直接ネイティブが管理している領域に保存されます。
 </p>
 <p>
 このクラスのインスタンスは、以下の状態を持ちます。
 </p>
 <dl>
 <dt>ダウンロード可能状態:</dt>
 <dd><A HREF="../../../com/docomostar/system/ContentsDownloader.html#ContentsDownloader(java.lang.String)">コンストラクタ</A> 
     によりインスタンスが生成された直後の状態です。
     以下のメソッドのみを呼び出すことができます。
     <ul>
     <li><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setQuery(java.lang.String)"><CODE>setQuery(String)</CODE></A></li>
     <li><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setExpectedContentType(java.lang.String)"><CODE>setExpectedContentType(String)</CODE></A></li>
     <li><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setRequestMethod(java.lang.String)"><CODE>setRequestMethod(String)</CODE></A></li>
     <li><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setPlayOptions(java.util.Hashtable)"><CODE>setPlayOptions(Hashtable)</CODE></A></li>
     <li><A HREF="../../../com/docomostar/system/ContentsDownloader.html#download()"><CODE>download()</CODE></A>
     </ul>
     例外が発生せずに <code>download()</code>
     メソッド呼び出しからリターンすると、ダウンロード完了状態へ遷移します。
     <code>download()</code>呼び出し時に例外が発生した場合は、
     ダウンロード可能状態のままとなります。
 </dd>
 <dt>ダウンロード完了状態:</dt>
 <dd>ダウンロードが完了している状態です。
     この状態で呼び出し可能なメソッドはありません。
     再度ダウンロードするには、
     新しく生成したインスタンスを用いて行ってください。
 </dd>
 </dl>
<P>

<P>
<DL>
<DT><B>導入されたバージョン:</B></DT>
  <DD>Star-1.1</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>フィールドの概要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/system/ContentsDownloader.html#DEFAULT_CONTENT_TYPE">DEFAULT_CONTENT_TYPE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;デフォルトのコンテントタイプです(="application/x-dcm-fullmusic")。</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>コンストラクタの概要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/docomostar/system/ContentsDownloader.html#ContentsDownloader(java.lang.String)">ContentsDownloader</A></B>(String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 コンストラクタです。</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>メソッドの概要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/system/ContentsDownloader.html#download()">download</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 コンテンツのダウンロード、ならびに、ストレージ(端末メモリ、
 または外部メモリ)への保存を行います。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setExpectedContentType(java.lang.String)">setExpectedContentType</A></B>(String&nbsp;contentType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 ダウンロードしたいコンテンツの Content-Type を指定します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setPlayOptions(java.util.Hashtable)">setPlayOptions</A></B>(java.util.Hashtable&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 コンテンツ再生時の振る舞いを決定するオプションパラメータを指定します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setQuery(java.lang.String)">setQuery</A></B>(String&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 コンテンツダウンロード時に送出するクエリーを指定します。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setRequestMethod(java.lang.String)">setRequestMethod</A></B>(String&nbsp;method)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 ダウンロード時に用いるリクエストメソッドを指定します。</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>クラス Object から継承されたメソッド</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>フィールドの詳細</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DEFAULT_CONTENT_TYPE"><!-- --></A><H3>
DEFAULT_CONTENT_TYPE</H3>
<PRE>
public static final String <B>DEFAULT_CONTENT_TYPE</B></PRE>
<DL>
<DD>デフォルトのコンテントタイプです(="application/x-dcm-fullmusic")。
<P>
<DL>
<DT><B>関連項目:</B><DD><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setExpectedContentType(java.lang.String)"><CODE>setExpectedContentType(String)</CODE></A>, 
<A HREF="../../../constant-values.html#com.docomostar.system.ContentsDownloader.DEFAULT_CONTENT_TYPE">定数フィールド値</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>コンストラクタの詳細</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ContentsDownloader(java.lang.String)"><!-- --></A><H3>
ContentsDownloader</H3>
<PRE>
public <B>ContentsDownloader</B>(String&nbsp;url)</PRE>
<DL>
<DD><p>
 コンストラクタです。
 コンテンツをダウンロードしたい URL を指定して、
 ContentsDownloader インスタンスを生成します。
 </p>
 <p>
 ADF に AccessUserInfo キーの指定が必要です。
 また、ここで指定した URL との通信については、
 ダウンロード可能なデータサイズの上限を除いては、
 通常の Star アプリからの HTTP 通信と同様の制限が適用されます。
 すなわち、ユーザによる通信可否設定や、
 ダウンロード元 URL が正当かどうか、などのチェックが行われます。
 </p>
<P>
<DL>
<DT><B>パラメータ:</B><DD><CODE>url</CODE> - コンテンツをダウンロードする URL を指定します。
        HTTP または HTTPS のみが指定できます。
<DT><B>例外:</B>
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>
         引数 url が不正、あるいは null である場合に発生します。
         具体的には以下のケースで発生します。
         <ul>
         <li>このコンストラクタの引数 url をそのまま指定して
             <code>Connector.open(String)</code> を呼び出すと
             <code>IllegalArgumentException</code> が発生する場合</li>
         <li>このコンストラクタの引数 url をそのまま指定して
             <code>Connector.open(String)</code> を呼び出すと
             <code>ConnectionNotFoundException</code> が発生する場合</li>
         <li>引数 url に指定されたプロトコルスキームが
             http でも https でも無い場合</li>
         <li>引数 url 中に '?' が含まれていた場合</li>
         </ul>
<DD class="throws"><CODE>SecurityException</CODE> - 
         <BR>
         ADF に AccessUserInfo キーの指定がないアプリケーションが、
         このコンストラクタを呼び出した場合に発生します。
<DD class="throws"><CODE>SecurityException</CODE> - 
         <BR>
         引数 url について、セキュリティ上の制約に触れた場合や、
         UseNetwork キーが無い場合、
         Star アプリ個別のユーザ設定により通信が許可されていない場合に発生します。
         </DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>メソッドの詳細</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setQuery(java.lang.String)"><!-- --></A><H3>
setQuery</H3>
<PRE>
public void <B>setQuery</B>(String&nbsp;query)</PRE>
<DL>
<DD><p>
 コンテンツダウンロード時に送出するクエリーを指定します。
 application/x-www-form-urlencoded 
 形式にエンコード済みの文字列を指定してください。
 </p>
 <p>
 ここで指定された文字列は、
 リクエストメソッドが GET である場合はリクエストラインの一部として、
 POST である場合にはボディとして、ダウンロード元サーバへ送信されます。
 </p>
 <p>
 このメソッドは、
 引数に指定された文字列が 
 URL 中にクエリー文字列として記載できるかどうかのチェックは行いますが、
 実際に
 application/x-www-form-urlencoded 
 形式かどうかのチェックは行いません。
 したがって、application/x-www-form-urlencoded
 形式でない文字列が指定されていた場合でも、
 ダウンロード時に、指定された文字列をそのまま送出します。
 </p>
 <p>
 デフォルトでは、クエリーは指定なし(null)の状態になっています。
 </p>
<P>
<DD><DL>
<DT><B>パラメータ:</B><DD><CODE>query</CODE> - ダウンロード時に付与するクエリーを
 application/x-www-form-urlencoded 形式で指定します。
 クエリーを指定しない場合には、空文字列、または null を指定します。
<DT><B>例外:</B>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
         ダウンロード完了状態で呼び出された場合に発生します。
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>
         引数 query に指定された文字列が、
         端末が許容する長さを超えている場合に発生します。
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>
         引数 query に指定された文字列が、
         RFC 2396 に規定されている &lt;query&gt;
         の文法規則に違反している場合に発生します。</DL>
</DD>
</DL>
<HR>

<A NAME="setExpectedContentType(java.lang.String)"><!-- --></A><H3>
setExpectedContentType</H3>
<PRE>
public void <B>setExpectedContentType</B>(String&nbsp;contentType)</PRE>
<DL>
<DD><p>
 ダウンロードしたいコンテンツの Content-Type を指定します。
 コンテンツダウンロード時に、サーバが、ここで指定した Content-Type
 と異なる Content-Type (大文字小文字は区別しない)を応答した場合には、
 ダウンロードに失敗します。
 </p>
 <p>
 デフォルトでは、<A HREF="../../../com/docomostar/system/ContentsDownloader.html#DEFAULT_CONTENT_TYPE"><CODE>DEFAULT_CONTENT_TYPE</CODE></A>
 が指定されている状態になっています。
 </p>
<P>
<DD><DL>
<DT><B>パラメータ:</B><DD><CODE>contentType</CODE> - ダウンロードしたいコンテンツの Content-Type を指定します。
<DT><B>例外:</B>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
         ダウンロード完了状態で呼び出された場合に発生します。
<DD class="throws"><CODE>NullPointerException</CODE> - 
         <BR>
         引数 contentType に null が指定された場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/UnsupportedOperationException.html" title="com.docomostar.lang 内のクラス">UnsupportedOperationException</A></CODE> - 
         <BR>
         引数に指定された contentType が未知、
         あるいは未サポートの Content-Type である場合に発生します。</DL>
</DD>
</DL>
<HR>

<A NAME="setRequestMethod(java.lang.String)"><!-- --></A><H3>
setRequestMethod</H3>
<PRE>
public void <B>setRequestMethod</B>(String&nbsp;method)</PRE>
<DL>
<DD><p>
 ダウンロード時に用いるリクエストメソッドを指定します。
 文字列定数
 <A HREF="../../../com/docomostar/io/HttpConnection.html#GET"><CODE>HttpConnection.GET</CODE></A> か <A HREF="../../../com/docomostar/io/HttpConnection.html#POST"><CODE>HttpConnection.POST</CODE></A>
 を指定できます。
 指定可能な定数値と大文字小文字だけが異なる文字列を、
 直接指定することも可能です。
 </p>
 <p>
 デフォルトでは
 <A HREF="../../../com/docomostar/io/HttpConnection.html#GET"><CODE>HttpConnection.GET</CODE></A>
 が指定されている状態になっています。
 </p>
<P>
<DD><DL>
<DT><B>パラメータ:</B><DD><CODE>method</CODE> - ダウンロード時に用いるリクエストメソッドを指定します。
<DT><B>例外:</B>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
         ダウンロード完了状態で呼び出された場合に発生します。
<DD class="throws"><CODE>NullPointerException</CODE> - 
         <BR>
         引数 method に null が指定された場合に発生します。
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>
         引数 method に指定された文字列が、
         <A HREF="../../../com/docomostar/io/HttpConnection.html#GET"><CODE>HttpConnection.GET</CODE></A>、<A HREF="../../../com/docomostar/io/HttpConnection.html#POST"><CODE>HttpConnection.POST</CODE></A>
         のいずれでもない(大文字小文字は区別しない)場合に発生します。</DL>
</DD>
</DL>
<HR>

<A NAME="setPlayOptions(java.util.Hashtable)"><!-- --></A><H3>
setPlayOptions</H3>
<PRE>
public void <B>setPlayOptions</B>(java.util.Hashtable&nbsp;params)</PRE>
<DL>
<DD><p>
 コンテンツ再生時の振る舞いを決定するオプションパラメータを指定します。
 特に指定しない場合には null を指定してください。
 <br>
 デフォルトでは、パラメータは指定なし(null)の状態になっています。
 </p>
 <p>
 このメソッドで指定したパラメータは、
 ダウンロード・保存された当該コンテンツの再生時の振る舞いを決定するのに利用されます。
 <br>
 ダウンロードしたコンテンツをその場で再生できない端末でも、
 本パラメータは有効であることに注意してください。
 ここでのパラメータ指定は、
 ダウンロード後にその場で再生する場合だけでなく、
 後からネイティブ機能を用いて再生する場合にも影響します。
 </p>
 <p>
 引数に指定するパラメータのキーと値は、
 どちらも <code>String</code> 型を指定する必要があります。
 <code>String</code> 型以外が指定された場合は例外が発生します。
 </p>
 <p>
 なお、このメソッドでは、
 パラメータの内容に踏み込んだ正当性チェックは行いません。
 パラメータの内容に踏み込んだチェックについては
 <A HREF="../../../com/docomostar/system/ContentsDownloader.html#download()"><CODE>download()</CODE></A> メソッド呼び出し時に行われます。
 </p>
<P>
<DD><DL>
<DT><B>パラメータ:</B><DD><CODE>params</CODE> - コンテンツ再生時の振る舞いを決定するオプションパラメータを指定します。
 特に指定しない場合には null を指定します。
<DT><B>例外:</B>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
         ダウンロード完了状態で呼び出された場合に発生します。
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>     
         引数 params にシステムが提供している以外のオブジェクト
         (Hashtable クラスを継承した未知のクラスのオブジェクト)
         が渡された場合に発生します。
<DD class="throws"><CODE>ClassCastException</CODE> - 
         <BR>
         引数 params のキーや値に、
         String 型以外のオブジェクトが含まれていた場合に発生します。</DL>
</DD>
</DL>
<HR>

<A NAME="download()"><!-- --></A><H3>
download</H3>
<PRE>
public void <B>download</B>()
              throws <A HREF="../../../com/docomostar/system/InterruptedOperationException.html" title="com.docomostar.system 内のクラス">InterruptedOperationException</A>,
                     <A HREF="../../../com/docomostar/system/ContentsException.html" title="com.docomostar.system 内のクラス">ContentsException</A></PRE>
<DL>
<DD><p>
 コンテンツのダウンロード、ならびに、ストレージ(端末メモリ、
 または外部メモリ)への保存を行います。
 </p>
 <p>
 このメソッドを呼び出すと、Star アプリケーションはサスペンドし、
 コンテンツのダウンロード、ストレージへの保存を行います。
 端末によっては、
 ダウンロードしたコンテンツを、
 ユーザ操作によって再生できるものもあります。
 <br>
 一連の処理が完了(失敗やユーザによる中断を含む)すると、
 Star アプリケーションはレジュームします。
 </p>
 <p>
 ダウンロード、ならびにストレージへの保存が正常に完了した場合
 (通信中断等により部分保存となった場合も含む。以下同様。)
 は、このメソッドは例外を発生せずにリターンします。
 特に、ストレージへの保存完了後であれば、
 何らかの原因で処理に失敗した場合でも、
 例外は発生しないことに注意してください。
 <br>
 言い換えると、このメソッド呼び出しにおいて例外が発生した場合は、
 コンテンツの保存が完了していないことを意味します。
 </p>
 <p>
 コンテンツをダウンロードする際にサーバへ送出されるリクエストは、
 <A HREF="../../../com/docomostar/system/ContentsDownloader.html#setRequestMethod(java.lang.String)"><CODE>setRequestMethod(String)</CODE></A> 
 にて指定されているリクエストメソッドの種類により異なります。
 </p>
 <table border="1">
 <tr style="background-color: #ddddff">
 <th><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setRequestMethod(java.lang.String)">リクエストメソッド</A></th>
 <th><A HREF="../../../com/docomostar/io/HttpConnection.html#GET">GET</A></th>
 <th><A HREF="../../../com/docomostar/io/HttpConnection.html#POST">POST</A></th>
 </tr>
 <tr>
 <td>接続先 URL</td>
 <td><dl>
     <dt><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setQuery(java.lang.String)">クエリー</A>が指定されていない(空文字列、または null)場合:</dt>
     <dd><A HREF="../../../com/docomostar/system/ContentsDownloader.html#ContentsDownloader(java.lang.String)"><CODE>ContentsDownloader(String)</CODE></A>
         の引数で指定された URL</dd>
     <dt><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setQuery(java.lang.String)">クエリー</A>が指定されている場合:</dt>
     <dd>先頭から以下の順に連結して得られる文字列
         <ol>
         <li><A HREF="../../../com/docomostar/system/ContentsDownloader.html#ContentsDownloader(java.lang.String)"><CODE>ContentsDownloader(String)</CODE></A>
             の引数で指定された URL</li>
         <li>'?' (0x3F)</li>
         <li><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setQuery(java.lang.String)"><CODE>setQuery(String)</CODE></A> の引数で指定された文字列</li>
     </dd>
     </dl>
 </td>
 <td><A HREF="../../../com/docomostar/system/ContentsDownloader.html#ContentsDownloader(java.lang.String)"><CODE>ContentsDownloader(String)</CODE></A> の引数で指定された URL</td>
 </tr>
 <tr>
 <td>Content-Type リクエストヘッダの値</td>
 <td>N/A</td>
 <td>application/x-www-form-urlencoded</td>
 </tr>
 <tr>
 <td>HTTP リクエストボディ</td>
 <td>N/A</td>
 <td><A HREF="../../../com/docomostar/system/ContentsDownloader.html#setQuery(java.lang.String)"><CODE>setQuery(String)</CODE></A> の引数で指定された文字列</td>
 </tr>
 </table>

 <p>
 以下の機能については、端末によってサポートされていない場合があります。
 サポートされていない端末では、
 このメソッド呼び出しによるサスペンド中に、
 ユーザはその機能を利用することができません。
 </p>
 <ul>
 <li>ダウンロードしたコンテンツの再生</li>
 </ul>
<P>
<DD><DL>

<DT><B>例外:</B>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/lang/IllegalStateException.html" title="com.docomostar.lang 内のクラス">IllegalStateException</A></CODE> - 
         <BR>
         ダウンロード完了状態で呼び出された場合に発生します。
<DD class="throws"><CODE>IllegalArgumentException</CODE> - 
         <BR>
         <A HREF="../../../com/docomostar/system/ContentsDownloader.html#setPlayOptions(java.util.Hashtable)"><CODE>setPlayOptions(Hashtable)</CODE></A>
         で指定されているパラメータが不正である場合に発生します。
         
<DD class="throws"><CODE>SecurityException</CODE> - 
               <BR>
         ネイティブ独自のセキュリティ設定により、
         ダウンロード・保存処理が禁止されている場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/system/ContentsException.html" title="com.docomostar.system 内のクラス">ContentsException</A></CODE> - <BR><SPAN class="status">(ILLEGAL_CONTENT)</SPAN>
         <BR>
         ダウンロード対象コンテンツが保存不可能である場合に発生します。
         具体的には以下のケースで発生します。
         <ul>
         <li>ダウンロード対象コンテンツのサイズが制限を超えている場合<br>
             (Content-Lengthヘッダの値が上限を超えている場合を含みます)
         </li>
         <li>ダウンロード対象コンテンツの種別が、
             <A HREF="../../../com/docomostar/system/ContentsDownloader.html#setExpectedContentType(java.lang.String)">Star アプリが期待している種別</A>とは異なる場合<br>
             (Content-Typeヘッダの値が、
             setExpectedContentType(String)で設定した値と一致しない場合を含みます)</li>
         <li>ダウンロード対象コンテンツの種別が判定不能な場合</li>
         <li>ダウンロード対象コンテンツの再生回数制限が0回の場合</li>
         <li>その他、
             サーバレスポンスのボディ部の内容に起因してダウンロードに失敗した場合</li>
         </ul>
<DD class="throws"><CODE><A HREF="../../../com/docomostar/system/ContentsException.html" title="com.docomostar.system 内のクラス">ContentsException</A></CODE> - <BR><SPAN class="status">(RESPONSE_ERROR)</SPAN>
         <BR>
         ダウンロード時における、サーバからのレスポンスについて、
         ステータスコードやヘッダが不正である場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/system/ContentsException.html" title="com.docomostar.system 内のクラス">ContentsException</A></CODE> - <BR><SPAN class="status">(NETWORK_ERROR)</SPAN>
         <BR>
         ネットワークの問題による通信断や、
         i-mode 圏外・i-mode 未契約の場合など、
         ダウンロード時にサーバとの通信に失敗した場合や、
         サーバに接続できなかった場合に発生します。
         
<DD class="throws"><CODE><A HREF="../../../com/docomostar/system/ContentsException.html" title="com.docomostar.system 内のクラス">ContentsException</A></CODE> - <BR><SPAN class="status">(USER_ABORT)</SPAN>
         <BR>
         コンテンツのダウンロード、ならびに保存完了前に、
         ユーザ操作により中断要求が発生した場合に発生します。
<DD class="throws"><CODE><A HREF="../../../com/docomostar/system/InterruptedOperationException.html" title="com.docomostar.system 内のクラス">InterruptedOperationException</A></CODE> - 
         <BR>
         コンテンツのダウンロードならびに保存完了前に、
         競合条件などにより、
         ネイティブ機能が異常終了した場合に発生します。</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="ナビゲーションリンクをスキップ"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概要</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>パッケージ</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>クラス</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>階層ツリー</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>非推奨 API</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>ヘルプ</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/docomostar/system/Contents.html" title="com.docomostar.system 内のクラス"><B>前のクラス</B></A>&nbsp;
&nbsp;<A HREF="../../../com/docomostar/system/ContentsException.html" title="com.docomostar.system 内のクラス"><B>次のクラス</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/docomostar/system/ContentsDownloader.html" target="_top"><B>フレームあり</B></A>  &nbsp;
&nbsp;<A HREF="ContentsDownloader.html" target="_top"><B>フレームなし</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>すべてのクラス</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>すべてのクラス</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  概要:&nbsp;入れ子&nbsp;|&nbsp;<A HREF="#field_summary">フィールド</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">コンストラクタ</A>&nbsp;|&nbsp;<A HREF="#method_summary">メソッド</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
詳細:&nbsp;<A HREF="#field_detail">フィールド</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">コンストラクタ</A>&nbsp;|&nbsp;<A HREF="#method_detail">メソッド</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<P><B>NTT DOCOMO,INC.</B></P>
<FONT size="-2"><P>本製品または文書は著作権法により保護されており、その使用、複製、再頒布および逆コンパイルを制限するライセンスのもとにおいて頒布されます。NTTドコモ（その他に許諾者がある場合は当該許諾者も含めて）の書面による事前の許可なく、本製品および関連する文書のいかなる部分も、いかなる方法によっても複製することが禁じられます。フォントを含む第三者のソフトウェアは、著作権法により保護されており、その提供者からライセンスを受けているものです。</P>
<P>Sun、Sun Microsystems、Java、J2MEおよびJ2SEは、米国およびその他の国における米国 Sun Microsystems,Inc.の商標または登録商標です。サンのロゴマークは、米国 Sun Microsystems, Inc.の登録商標です。</P>
<P>FeliCaは、ソニー株式会社が開発した非接触ICカードの技術方式です。FeliCaは、ソニー株式会社の登録商標です。</P>
<P>「ｉモード」、「ｉアプリ／アイアプリ」、「ｉ-αppli」ロゴ、「DoJa」はNTTドコモの商標または登録商標です。</P>
<P>その他記載された会社名、製品名などは該当する各社の商標または登録商標です。</P></FONT>

</BODY>
</HTML>
