<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_10) on Tue Feb 12 21:03:08 JST 2008 -->
<TITLE>
com.nttdocomo.ui.sound3d (DoJa-5.1 (APIリファレンス))
</TITLE>

<META NAME="keywords" CONTENT="com.nttdocomo.ui.sound3d package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="com.nttdocomo.ui.sound3d (DoJa-5.1 (APIリファレンス))";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="ナビゲーションリンクをスキップ"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概要</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>パッケージ</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">クラス</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>階層ツリー</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>非推奨 API</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>ヘルプ</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/nttdocomo/ui/ogl/math/package-summary.html"><B>前のパッケージ</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/nttdocomo/ui/util3d/package-summary.html"><B>次のパッケージ</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>フレームあり</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>フレームなし</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>すべてのクラス</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>すべてのクラス</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
パッケージ com.nttdocomo.ui.sound3d
</H2>
3D サウンドの制御に使用するクラスを定義します。

<P>
<B>参照:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>説明</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>インタフェースの概要</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/nttdocomo/ui/sound3d/SoundPosition.html" title="com.nttdocomo.ui.sound3d 内のインタフェース">SoundPosition</A></B></TD>
<TD><SPAN class="doja4">
 
 固定的な定位を指定するためのインタフェースを定義します。
 </TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>クラスの概要</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/nttdocomo/ui/sound3d/CartesianListener.html" title="com.nttdocomo.ui.sound3d 内のクラス">CartesianListener</A></B></TD>
<TD><SPAN class="doja4">
 
 デカルト座標でリスナ(聴者)の位置と向きを指定するオブジェクトを定義します。
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/nttdocomo/ui/sound3d/CartesianPosition.html" title="com.nttdocomo.ui.sound3d 内のクラス">CartesianPosition</A></B></TD>
<TD><span class="doja4">
 デカルト座標でリスナ(聴者)と仮想音源の位置関係を指定するオブジェクトを定義します。
 </span></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/nttdocomo/ui/sound3d/PolarPosition.html" title="com.nttdocomo.ui.sound3d 内のクラス">PolarPosition</A></B></TD>
<TD><span class="doja4">
 極座標でリスナ(聴者)と仮想音源の位置関係を指定するオブジェクトを定義します。
 </span></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../com/nttdocomo/ui/sound3d/SoundMotion.html" title="com.nttdocomo.ui.sound3d 内のクラス">SoundMotion</A></B></TD>
<TD><SPAN class="doja4">
 
 移動している定位を指定するためのオブジェクトを定義します。
 </TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
パッケージ com.nttdocomo.ui.sound3d の説明
</H2>

<P>
3D サウンドの制御に使用するクラスを定義します。
<SPAN class="doja4">
<p>
このパッケージでは用語について以下のように定義して使用しています。<BR>
<UL>
<LI>仮想音源(Sound) … 3D 空間内で音を発する物体を指します。
<LI>リスナ(Listener) … 3D 空間内で音を聴くポイントを指します。
<LI>位置(Position) … 3D 空間内での仮想音源やリスナの位置を指します。座標系における座標によって表されます。
<LI>定位(Location) … 仮想音源の位置と、リスナの位置と向きによって定まる位置関係を指します。
</UL>
</p>
<p>
音が 3D 空間内のある位置から聴こえるようにエミュレートするには、
音を発する物体としての仮想音源と音を聴く主体としてのリスナを考えて、
リスナからみて仮想音源がどこにあるか、
すなわち、仮想音源とリスナとの位置関係を指定する必要があります。
ここでは、この「仮想音源とリスナとの位置関係」を定位と呼びます。
</p>
<p>
定位の指定は極座標系またはデカルト座標系で行うことができますが、
いずれも右手系で、右方向が X 軸の正の方向、下方向が Y 軸の正の方向、奥方向が Z 軸の正の方向となります。
また、極座標系での方位角は正面から時計回りに、仰角は正面から上回りに取ります。
すなわち、(仰角を0°とすると)方位角は 0° の時に Z 軸の正の方向、90° の時に X 軸の正の方向、-90° の時に X 軸の負の方向と重なります。
また、(方位角を0°とすると)仰角は 0° の時に Z 軸の正の方向、90°の時に Y 軸の負の方向、-90° の時に Y 軸の正の方向と重なります。
<br>
<img src="./doc-files/CoordinateSystem.png">
</p>
<p>
定位の指定の方法は、極座標系で指定する場合とデカルト座標系で指定する場合とで異なります。
<ul>
<li>
極座標系では、定位は <A HREF="../../../../com/nttdocomo/ui/sound3d/PolarPosition.html" title="com.nttdocomo.ui.sound3d 内のクラス"><CODE>PolarPosition</CODE></A>
オブジェクトによって表されます。
この場合、リスナは常に座標原点に固定されており、
リスナから見た仮想音源の位置を極座標で指定することによって定位を指定します。
<br>
3D 空間内に複数の仮想音源がある場合は、
仮想音源ごとに PolarPosition オブジェクトにリスナから見た仮想音源の位置を指定します。
<li>
デカルト座標系では、定位は <A HREF="../../../../com/nttdocomo/ui/sound3d/CartesianPosition.html" title="com.nttdocomo.ui.sound3d 内のクラス"><CODE>CartesianPosition</CODE></A>
オブジェクトと
<A HREF="../../../../com/nttdocomo/ui/sound3d/CartesianListener.html" title="com.nttdocomo.ui.sound3d 内のクラス"><CODE>CartesianListener</CODE></A>
オブジェクトの二つのオブジェクトによって表されます。
この場合、仮想音源とリスナの位置をそれぞれデカルト座標で指定しますが、
最終的にはそれらを元にリスナから見た仮想音源の位置が計算され、それによって定位が定まります。
<br>
3D 空間内に複数の仮想音源がある場合は、
仮想音源ごとに CartesianPosition オブジェクトに仮想音源の位置を指定します。
リスナは一つの CartesianListener オブジェクトを共通に使用して指定することもできますし、
仮想音源ごとに CartesianListener オブジェクトを用意して指定することもできます。
</ul>
考え方としては、極座標系の場合はリスナ中心のローカル座標系での定位指定、
デカルト座標系の場合は仮想音源とリスナを客観的に見たワールド座標系での定位指定とみなすこともできます。
なお、デカルト座標系でもリスナを動かさずに常に原点に固定しておけば、
考え方としてはローカル座標系での定位指定とみなすこともできます。
</p>
<p>
リスナから見て仮想音源が静止しているものとして定位を指定する場合は、
一度だけ定位を指定すれば済みます。
<A HREF="../../../../com/nttdocomo/ui/sound3d/SoundPosition.html" title="com.nttdocomo.ui.sound3d 内のインタフェース"><CODE>SoundPosition</CODE></A>
インターフェースを実装したクラスのオブジェクトを直接定位の指定に使用した場合は、
静止している定位の指定となります。
<br>
一方、リスナから見て仮想音源が移動しているものとして定位を指定する場合は、
現在の定位から何秒後にどのような定位となるか、というように時間情報と合わせて定位を指定しなければなりません。
<A HREF="../../../../com/nttdocomo/ui/sound3d/SoundMotion.html" title="com.nttdocomo.ui.sound3d 内のクラス"><CODE>SoundMotion</CODE></A>
クラスのオブジェクトを定位の指定に使用した場合は、
移動している定位の指定となります。
</p>
<p>
なお、仮想音源は「カレントの定位」を持ちます。
したがって、静止している定位の指定を行った場合は、その定位がカレントの定位となります。
移動している定位の指定を行った場合は、カレントの定位を開始点として、
指定された時間の後に指定された定位にくるように定位の移動が行われ、
移動が完了したらその時点での定位がカレントの定位となります。
</p>
<p>
移動している定位の指定について、
仮に現在(時刻 t<sub>1</sub>)の定位をA、
移動後(時刻 t<sub>2</sub>)の定位をB、
移動にかかる時間を t = t<sub>2</sub> - t<sub>1</sub> とします。
すなわち、定位Aがカレントの定位であり、t秒後に定位Bにくるように移動させたいとします。
一つの仮想音源の移動に注目すると、極座標系の場合とデカルト座標系の場合とでそれぞれ次のようになります。
<ul>
<li>
極座標系で指定する場合は、<!--定位Aの仮想音源の位置が既に指定されており、-->
定位Bでの仮想音源の位置を新たに指定します。
リスナは常に座標原点に固定されているため、指定する必要はありません。
そこで、定位Bの仮想音源の位置を設定したPolarPositionオブジェクトを時間tとセットでSoundMotionオブジェクトに追加し、
そのSoundMotionオブジェクトを「移動している定位」としてAudio3Dオブジェクトに設定すると、
定位Aの位置にある仮想音源が時間tだけかけて定位Bの位置にくるように移動が行われます。
<br>
<img src="./doc-files/SoundMotion1.png">
<li>
デカルト座標系で指定する場合は、<!--定位Aで仮想音源の位置とリスナの位置が既に指定されており、-->
定位Bでの仮想音源の位置とリスナの位置を新たに指定します。
そこで、定位Bの仮想音源の位置とリスナの位置を設定したCartesianPositionオブジェクトを時間tとセットでSoundMotionオブジェクトに追加し、
そのSoundMotionオブジェクトを「移動している定位」としてAudio3Dオブジェクトに設定すると、
定位Aの位置にある仮想音源が時間tだけかけて定位Bの位置にくるように移動が行われます。
<br>
<img src="./doc-files/SoundMotion2.png">
</ul>
SoundMotion オブジェクトでは、移動後の定位を複数まとめて設定することができます。
すなわち、
仮に現在(時刻 t<sub>1</sub>)の定位がAだとして、
時刻 t<sub>2</sub> で定位B、
時刻 t<sub>3</sub> で定位C、
時刻 t<sub>4</sub> で定位D、…というように定位が変化する場合、
一つのSoundMotionオブジェクトに
時間 (t<sub>2</sub> - t<sub>1</sub>) と定位Bのセット、
時間 (t<sub>3</sub> - t<sub>1</sub>) と定位Cのセット、
時間 (t<sub>4</sub> - t<sub>1</sub>) と定位Dのセット、…というように追加します。
そのSoundMotionオブジェクトをAudio3Dオブジェクトに設定すると、
現在の定位Aから定位B、定位C、定位Dへと変化するように聴こえます。
</p>
<p>
なお、一つの SoundMotion オブジェクトの中で極座標での定位指定とデカルト座標での定位指定を混在して使用することはできませんが、
一つの仮想音源に対しては極座標での定位指定とデカルト座標での定位指定を混在して使用しても構いません。
</p>
<p>
極座標系でもデカルト座標系でも、仮想音源やリスナの座標は float 型で指定しますが、
単位としては 1.0f が 1m を表すものとして処理が行われます。
すなわち、例えばデカルト座標系で仮想音源の座標が(0.0f, 0.0f, 1.0f)、リスナの座標が(0.0f, 0.0f, 0.0f)だとすると、
リスナの正面 1m のところに仮想音源があるように聴こえます。
<br>
なお、float 型で指定された座標は、実際には実装がサポートしている座標の粒度に丸めて設定されます。
実装がサポートしている最大の定位を超える定位が指定された場合は、
実装がサポートしている最大の定位に設定されます。
実装がサポートしている最小の定位よりも近い定位が指定された場合は、
実装がサポートしている最小の定位に設定されます。
また、仮想音源とリスナの座標として同じ座標を指定することもできますが、
その場合はリスナから見たときに頭の中に仮想音源があるような形で定位が設定されます。
</p>

</SPAN>

<P>

<P>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="ナビゲーションリンクをスキップ"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概要</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>パッケージ</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">クラス</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>階層ツリー</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>非推奨 API</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>ヘルプ</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/nttdocomo/ui/ogl/math/package-summary.html"><B>前のパッケージ</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/nttdocomo/ui/util3d/package-summary.html"><B>次のパッケージ</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>フレームあり</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>フレームなし</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>すべてのクラス</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>すべてのクラス</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<P><B>NTT DOCOMO,INC.</B></P>
<FONT size="-2"><P>本製品または文書は著作権法により保護されており、その使用、複製、再頒布および逆コンパイルを制限するライセンスのもとにおいて頒布されます。NTTドコモ（その他に許諾者がある場合は当該許諾者も含めて）の書面による事前の許可なく、本製品および関連する文書のいかなる部分も、いかなる方法によっても複製することが禁じられます。フォントを含む第三者のソフトウェアは、著作権法により保護されており、その提供者からライセンスを受けているものです。</P>
<P>Sun、Sun Microsystems、Java、J2MEおよびJ2SEは、米国およびその他の国における米国 Sun Microsystems,Inc.の商標または登録商標です。サンのロゴマークは、米国 Sun Microsystems, Inc.の登録商標です。</P>
<P>FeliCaは、ソニー株式会社が開発した非接触ICカードの技術方式です。FeliCaは、ソニー株式会社の登録商標です。</P>
<P>「ｉモード」、「ｉアプリ／アイアプリ」、「ｉ-αppli」ロゴ、「DoJa」はNTTドコモの商標または登録商標です。</P>
<P>その他記載された会社名、製品名などは該当する各社の商標または登録商標です。</P></FONT>

</BODY>
</HTML>
